(this.webpackJsonpmarkdownpreviewer=this.webpackJsonpmarkdownpreviewer||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n.n(l),i=n(3),a=n.n(i),s=n(4),c=(n(19),n(1)),o=function(e){var t=e.id,n=Object(s.b)((function(e){return e.ui[t]}));return Object(c.jsx)("div",{id:t,className:"display",children:n})},u=n(2),d=Object(u.b)({name:"ui",initialState:{display:"",formula:""},reducers:{display:{reducer:function(e,t){e.display=t.payload},prepare:function(e){return{payload:e}}},formula:{reducer:function(e,t){e.formula=t.payload},prepare:function(e){return{payload:e}}}}}),p=d.actions,b=d.reducer,f=Object(u.b)({name:"data",initialState:{symbols:[]},reducers:{clearSymbols:{reducer:function(e,t){e.symbols=[]}},addSymbol:{reducer:function(e,t){e.symbols.push(t.payload)},prepare:function(e){return{payload:e}}},setSymbols:{reducer:function(e,t){e.symbols=t.payload},prepare:function(e){return{payload:e}}},deleteSymbol:{reducer:function(e,t){e.symbols=e.symbols.slice(0,-1)}},replaceSymbol:{reducer:function(e,t){e.symbols=e.symbols.slice(0,-1).concat([t.payload])},prepare:function(e){return{payload:e}}}}}),y=f.actions,m=f.reducer,h=Object(u.a)({reducer:{ui:b,data:m}}),x=h,v=h.dispatch,j=n(8),g={clear:"#",zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",decimal:".",add:"+",subtract:"-",multiply:"*",divide:"/",equals:"=",delete:"<",sqrt:"\xac",open:"(",close:")"},T="number",O="operator",S="function",w="bracket",k="decimal",q="command",z=new Map;z.set(g.zero,T),z.set(g.one,T),z.set(g.two,T),z.set(g.three,T),z.set(g.four,T),z.set(g.five,T),z.set(g.six,T),z.set(g.seven,T),z.set(g.eight,T),z.set(g.nine,T),z.set(g.decimal,k),z.set(g.add,O),z.set(g.subtract,O),z.set(g.multiply,O),z.set(g.divide,O),z.set(g.sqrt,S),z.set(g.open,w),z.set(g.close,w),z.set(g.equals,q),z.set(g.clear,q),z.set(g.delete,q);var M=new Map;M.set(g.subtract,4),M.set(g.add,4),M.set(g.multiply,1),M.set(g.divide,1);var N=new Map;N.set(g.subtract,(function(e){return 1===e.length?-e[0]:2===e.length?e[0]-e[1]:"Too many inputs for subtract node: ".concat(e)})),N.set(g.add,(function(e){return 2===e.length?e[0]+e[1]:"Incorrect number of inputs for addition node: ".concat(e)})),N.set(g.multiply,(function(e){return 2===e.length?e[0]*e[1]:"Incorrect number of inputs for multiply node: ".concat(e)})),N.set(g.divide,(function(e){return 2===e.length?e[0]/e[1]:"Incorrect number of inputs for divide node: ".concat(e)})),N.set(g.sqrt,(function(e){return 1!==e.length?"Sqrt should only have 1 input.":Math.sqrt(e[0])}));var I=function e(t){if(t.type===T)return 0!==t.children.length?"Number node (value: ".concat(t.value,") should be a leaf, but has children)"):Number(t.value.join(""));if(t.type===O||t.type===S){var n=t.children.map((function(t){return e(t)})),l=n.reduce((function(e,t){return"string"===typeof t&&(e.length>0?e+=" "+t:e+=t),e}),"");return""!==l?l:N.get(t.value)(n)}return t.type===w?1!==t.children.length?"Bracket Node can only have one child: ".concat(t.children):e(t.children[0]):"Unknown node found: ".concat(t.type,", ").concat(t.value)},U=function(e){var t=function(e){var t,n=null,l=null,r=null,i=Object(j.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,s=z.get(a);if(s===O){if(r={value:a,type:s,parent:null,children:[]},null===n)n=r;else if(a===g.subtract&&l.type===O)l.children.push(r),r.parent=l;else{for(;null!==l.parent&&(l.parent.type===S||M.get(a)>=M.get(l.parent.value));)l=l.parent;if(r.children.push(l),r.parent=l.parent,null==l.parent)n=r;else{var c=l.parent.children.indexOf(l);l.parent.children[c]=r}l.parent=r}l=r}if(s===S){if(r={value:a,type:s,parent:null,children:[]},null===n)n=r;else if(l.type===T){if((r={type:O,value:g.multiply,parent:l.parent,children:[l,r]}).children[1].parent=r,null===l.parent)n=r;else{var o=l.parent.children.indexOf(l);l.parent.children[o]=r}l.parent=r,r=r.children[1]}else r.parent=l,l.children.push(r);l=r}if(s===w)if(a===g.open){if(r={type:s,value:a,parent:null,children:[]},null==n)n=r;else if(l.type===T){if((r={type:O,value:g.multiply,parent:l.parent,children:[l,r]}).children[1].parent=r,null===l.parent)n=r;else{var u=l.parent.children.indexOf(l);l.parent.children[u]=r}l.parent=r,r=r.children[1]}else l.children.push(r),r.parent=l;l=r}else if(l.value===g.open)l.value=a;else for(;null!==l.parent;)if((l=l.parent).value===g.open){l.value=a;break}if(s===T)if(null===n)n=r={value:[a],type:s,parent:null,children:[]},l=r;else if(l.type===T)l.value.push(a);else{if(l.value===g.close){if(r={type:O,value:g.multiply,parent:l.parent,children:[l]},null===l.parent)n=r;else{var d=l.parent.children.indexOf(l);l.parent.children[d]=r}l.parent=r,l=r}r={type:T,value:[a],parent:l,children:[]},l.children.push(r),l=r}if(s===k)if(null===n)n=l={type:T,value:[g.zero,a],parent:null,children:[]};else if(l.type===T)l.value.push(a);else{if(r={type:T,value:[g.zero,a],parent:null,children:[]},l.value===g.close){if((r={type:O,value:g.multiply,parent:l.parent,children:[l,r]}).children[1].parent=r,null===l.parent)n=r;else{var p=l.parent.children.indexOf(l);l.parent.children[p]=r}l.parent=r}else r={type:T,value:[a],parent:l,children:[]},l.children.push(r);l=r}}}catch(b){i.e(b)}finally{i.f()}return n}(e);return I(t)},B=new Map;B.set(g.clear,{uiText:"",btnText:"AC"}),B.set(g.zero,{uiText:"0",btnText:"0"}),B.set(g.one,{uiText:"1",btnText:"1"}),B.set(g.two,{uiText:"2",btnText:"2"}),B.set(g.three,{uiText:"3",btnText:"3"}),B.set(g.four,{uiText:"4",btnText:"4"}),B.set(g.five,{uiText:"5",btnText:"5"}),B.set(g.six,{uiText:"6",btnText:"6"}),B.set(g.seven,{uiText:"7",btnText:"7"}),B.set(g.eight,{uiText:"8",btnText:"8"}),B.set(g.nine,{uiText:"9",btnText:"9"}),B.set(g.decimal,{uiText:".",btnText:"."}),B.set(g.add,{uiText:"+",btnText:"+"}),B.set(g.subtract,{uiText:"-",btnText:"-"}),B.set(g.multiply,{uiText:"\xd7",btnText:"*"}),B.set(g.divide,{uiText:"\xf7",btnText:"/"}),B.set(g.equals,{uiText:"=",btnText:"="}),B.set(g.backspace,{uiText:"<",btnText:"\u2190"}),B.set(g.sqrt,{uiText:"\u221a",btnText:"\u221a"}),B.set(g.open,{uiText:"(",btnText:"("}),B.set(g.close,{uiText:")",btnText:")"});var C=function(e){return e.map((function(e){return B.get(e).uiText})).join("")},J=function(e){var t=x.getState().data.symbols,n=t[t.length-1],l=t[t.length-2];if(!1!==z.has(e)){var r,i=z.get(e);if(i===q)switch(e){case g.clear:v(y.clearSymbols());break;case g.delete:v(y.deleteSymbol());break;case g.equals:var a=U(t);return"string"===typeof a?(v(p.display("invalid inputs")),void console.error(a)):(v(p.formula(C(t)+B.get(e).uiText)),v(p.display(a)),void v(y.setSymbols((r=a,r.toString().split("").map((function(e){var t=void 0;for(var n in g)if(g[n]===e){t=g[n];break}return t})).filter((function(e){return void 0!==e}))))));default:return void v(p.display("Unknown command symbol: ".concat(e)))}if(i===T&&(0===t.length||n!==g.zero||1!==t.length&&z.get(l)!==T?v(y.addSymbol(e)):v(y.replaceSymbol(e))),e===g.decimal)if(0===t.length||z.get(n)!==T&&n!==g.decimal)v(y.addSymbol(g.zero)),v(y.addSymbol(e));else{for(var s=t.length-1;s>0&&z.get(t[s])===T;)s--;t[s]!==g.decimal&&v(y.addSymbol(e))}if(i===O&&(e===g.subtract?(0===t.length||z.get(n)!==O||t.length>0&&z.get(n)===O||t.length>1&&z.get(l)===O)&&v(y.addSymbol(e)):t.length>0&&(t.length>1&&n===g.subtract&&z.get(l)===O?(v(y.deleteSymbol()),v(y.replaceSymbol(e))):z.get(n)===O?v(y.replaceSymbol(e)):v(y.addSymbol(e)))),i===S&&v(y.addSymbol(e)),i===w)if(e===g.close){var c=t.reduce((function(e,t){return t===g.open?e.open++:t===g.close&&e.close++,e}),{open:0,close:0});c.open>c.close&&v(y.addSymbol(e))}else v(y.addSymbol(e));var o=x.getState().data.symbols;if(0===o.length)return v(p.display("0")),void v(p.formula(""));v(p.formula(C(o)));var u=o.length-1,d=z.get(o[u]);if(d!==w&&d!==S&&d!==O){for(var b=[];u>=0;){var f=o[u],m=z.get(f);if(!(m===T||m===k||f===g.subtract&&(0===u||u>=1&&z.get(o[u-1])===O)))break;b.unshift(f),u--}v(p.display(C(b)))}else v(p.display(B.get(o[u]).uiText))}else v(p.display("Unknown symbol: ".concat(e)))},A=function(){v(y.clearSymbols()),v(p.display("0")),v(p.formula(""))},D=(n(21),function(e){var t=e.id,n=e.symbol;return Object(c.jsx)("button",{id:t,className:"pad",onClick:function(e){e.preventDefault(),J(n)},children:B.get(n).btnText})}),E=(n(22),function(){return Object(c.jsxs)("div",{id:"calculator",children:[Object(c.jsx)(o,{id:"formula"}),Object(c.jsx)(o,{id:"display"}),Object(c.jsx)(D,{id:"zero",symbol:g.zero}),Object(c.jsx)(D,{id:"one",symbol:g.one}),Object(c.jsx)(D,{id:"two",symbol:g.two}),Object(c.jsx)(D,{id:"three",symbol:g.three}),Object(c.jsx)(D,{id:"four",symbol:g.four}),Object(c.jsx)(D,{id:"five",symbol:g.five}),Object(c.jsx)(D,{id:"six",symbol:g.six}),Object(c.jsx)(D,{id:"seven",symbol:g.seven}),Object(c.jsx)(D,{id:"eight",symbol:g.eight}),Object(c.jsx)(D,{id:"nine",symbol:g.nine}),Object(c.jsx)(D,{id:"clear",symbol:g.clear}),Object(c.jsx)(D,{id:"add",symbol:g.add}),Object(c.jsx)(D,{id:"subtract",symbol:g.subtract}),Object(c.jsx)(D,{id:"multiply",symbol:g.multiply}),Object(c.jsx)(D,{id:"divide",symbol:g.divide}),Object(c.jsx)(D,{id:"decimal",symbol:g.decimal}),Object(c.jsx)(D,{id:"equals",symbol:g.equals}),Object(c.jsx)(D,{id:"backspace",symbol:g.backspace}),Object(c.jsx)(D,{id:"sqrt",symbol:g.sqrt}),Object(c.jsx)(D,{id:"open",symbol:g.open}),Object(c.jsx)(D,{id:"close",symbol:g.close})]})}),F=(n(23),function(){return Object(c.jsx)("footer",{children:Object(c.jsxs)("p",{children:["created by ",Object(c.jsx)("em",{children:"74c5"})]})})}),G=(n(24),function(){return Object(c.jsxs)("div",{id:"react-app",children:[Object(c.jsx)("main",{children:Object(c.jsx)(E,{})}),Object(c.jsx)(F,{})]})});n(25);a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(s.a,{store:x,children:Object(c.jsx)(G,{})})}),document.getElementById("react-container")),A()}},[[26,1,2]]]);
//# sourceMappingURL=main.9b123156.chunk.js.map