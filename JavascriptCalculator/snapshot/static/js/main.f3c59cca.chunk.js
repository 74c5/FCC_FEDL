(this.webpackJsonpmarkdownpreviewer=this.webpackJsonpmarkdownpreviewer||[]).push([[0],{23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),u=n.n(i),l=n(7),c=(n(23),n(1)),s=function(e){var t=e.id,n=Object(l.b)((function(e){return e.ui[t]}));return Object(c.jsx)("div",{id:t,className:"display",children:n})},o=n(3),d=n(2),b=Object(d.b)({name:"ui",initialState:{display:"",formula:""},reducers:{display:{reducer:function(e,t){e.display=t.payload},prepare:function(e){return{payload:e}}},formula:{reducer:function(e,t){e.formula=t.payload},prepare:function(e){return{payload:e}}}}}),p=b.actions,y=b.reducer,f=Object(d.b)({name:"data",initialState:{tokens:[]},reducers:{clearTokens:{reducer:function(e,t){e.tokens=[]}},addToken:{reducer:function(e,t){e.tokens.push(t.payload)},prepare:function(e){return{payload:e}}},deleteToken:{reducer:function(e,t){e.tokens=e.tokens.slice(0,-1)}},updateToken:{reducer:function(e,t){e.tokens[e.tokens.length-1]=t.payload},prepare:function(e){return{payload:e}}}}}),v=f.actions,j=f.reducer,m=Object(d.a)({reducer:{ui:y,data:j}}),x=m,T=m.dispatch,h=n(10),k=n(12),O={clear:{id:"#",value:"",uiText:"",btnText:"AC"},zero:{id:"0",value:"0",uiText:"0",btnText:"0"},one:{id:"1",value:"1",uiText:"1",btnText:"1"},two:{id:"2",value:"2",uiText:"2",btnText:"2"},three:{id:"3",value:"3",uiText:"3",btnText:"3"},four:{id:"4",value:"4",uiText:"4",btnText:"4"},five:{id:"5",value:"5",uiText:"5",btnText:"5"},six:{id:"6",value:"6",uiText:"6",btnText:"6"},seven:{id:"7",value:"7",uiText:"7",btnText:"7"},eight:{id:"8",value:"8",uiText:"8",btnText:"8"},nine:{id:"9",value:"9",uiText:"9",btnText:"9"},decimal:{id:".",value:".",uiText:".",btnText:"."},add:{id:"+",value:"+",uiText:"+",btnText:"+"},subtract:{id:"-",value:"-",uiText:"-",btnText:"-"},multiply:{id:"*",value:"*",uiText:"\xd7",btnText:"*"},divide:{id:"/",value:"/",uiText:"\xf7",btnText:"/"},equals:{id:"=",value:"=",uiText:"=",btnText:"="},backspace:{id:"<",value:"<",uiText:"<",btnText:"\u2190"}},g="integer",w="float",z="operator",S=new Map;S.set(O.subtract,4),S.set(O.add,4),S.set(O.multiply,1),S.set(O.divide,1);var N=new Map;N.set(O.subtract,(function(e){return e.reduce((function(e,t){return e-t}))})),N.set(O.add,(function(e){return e.reduce((function(e,t){return e+t}))})),N.set(O.multiply,(function(e){return e.reduce((function(e,t){return e*t}))})),N.set(O.divide,(function(e){return e.reduce((function(e,t){return e/t}))}));var q=function(e){return e.symbols.map((function(e){return e.uiText})).join("")},M=function(e,t){return{type:e,symbols:Object(o.a)(t)}},C=function(e,t){var n=Object(k.a)({},e);return t!==O.decimal?1===e.symbols.length&&e.symbols[0]===O.zero?n.symbols=[t]:2===e.symbols.length&&e.symbols[0]===O.subtract&&e.symbols[1]===O.zero?n.symbols=[O.subtract,t]:n.symbols=[].concat(Object(o.a)(e.symbols),[t]):e.type===g&&(n.symbols=[].concat(Object(o.a)(e.symbols),[t]),n.type=w),n},E=function(e){var t=e.symbols.map((function(e){return e.value})).join("");return Number(t)},J=function e(t){if(t.type===w||t.type===g)return 0!==t.children.length?"Number node (value: ".concat(t.value,") should be a leaf, but has children)"):t.value;if(t.type===z){if(t.children.length<2)return"Not enough operands for operator: ".concat(t.value.uiText," ").concat(t.children.map((function(e){return e.value})));var n=t.children.map((function(t){return e(t)})),a=n.reduce((function(e,t){return"string"===typeof t&&(e.length>0?e+=" "+t:e+=t),e}),"");return""!==a?a:N.get(t.value)(n)}return"Unknown node found: ".concat(t.type,", {$tree.value}")},U=function(e){var t=function(e){var t,n=null,a=null,r=null,i=Object(h.a)(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;if(u.type===z){for(r={value:u.symbols[0],type:u.type,parent:null,children:[]};null!==a.parent&&S.get(r.value)>=S.get(a.parent.value);)a=a.parent;if(r.children.push(a),r.parent=a.parent,null==a.parent)n=r;else{var l=a.parent.children.indexOf(a);a.parent.children[l]=r}a.parent=r,a=r}else r={value:E(u),type:u.type,parent:null,children:[]},null===n?n=r:(r.parent=a,a.children.push(r)),a=r}}catch(c){i.e(c)}finally{i.f()}return n}(e),n=J(t);return"string"===typeof n?(console.error(n),{status:"error",value:n}):{status:"success",value:n}},A=function(e){var t=x.getState().data.tokens,n=t.length>0?t[t.length-1]:null;switch(e){case O.clear:T(v.clearTokens());break;case O.zero:case O.one:case O.two:case O.three:case O.four:case O.five:case O.six:case O.seven:case O.eight:case O.nine:if(null!==n&&n.type!==z){var a=C(n,e);T(v.updateToken(a))}else{var r=M(g,[e]);T(v.addToken(r))}break;case O.decimal:if(null===n||n.type===z){var i=C(M(g,[O.zero]),e);T(v.addToken(i))}else if(n.type===g&&1===n.symbols.length&&n.symbols[0]===O.subtract){var u=M(w,[].concat(Object(o.a)(n.symbols),[e]));T(v.addToken(u))}else{var l=C(n,e);T(v.updateToken(l))}break;case O.subtract:if(null===n||n.type===z){var c=M(g,[e]);T(v.addToken(c));break}case O.add:case O.divide:case O.multiply:var s=M(z,[e]);null!==n?n.type===z?T(v.updateToken(s)):n.type===g&&1===n.symbols.length&&n.symbols[0]===O.subtract?(T(v.deleteToken()),T(v.updateToken(s))):T(v.addToken(s)):T(v.addToken(s));break;case O.backspace:if(null!==n)if(1===n.symbols.length)T(v.deleteToken());else{var d=M(n.type,n.symbols.slice(0,-1));T(v.updateToken(d))}break;case O.equals:var b=U(t);return"error"===b.status?void T(p.display("invalid inputs")):(T(p.display(b.value)),T(v.clearTokens()),void T(v.addToken(function(e){var t,n=e.toString().split(""),a={type:g,symbols:[]},r=Object(h.a)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,u=void 0;for(var l in O)if(i===O[l].value){u=O[l];break}if(void 0===u)return"Error unknown symbol: ".concat(i);u===O.decimal&&(a.type=w),a.symbols.push(u)}}catch(c){r.e(c)}finally{r.f()}return a}(b.value))));default:console.log("Unexpected key received by controller: ".concat(void 0===e.id?e:e.id))}var y=x.getState().data.tokens;y.length>0?(T(p.display(q(y[y.length-1]))),T(p.formula(y.map((function(e){return q(e)})).join(" ")))):(T(p.display("0")),T(p.formula("")))},B=function(){T(v.clearTokens()),T(p.display("0")),T(p.formula(""))},D=(n(25),function(e){var t=e.id,n=e.symbol;return Object(c.jsx)("button",{id:t,className:"pad",onClick:function(e){e.preventDefault(),A(n)},children:n.btnText})}),I=(n(26),function(){return Object(c.jsxs)("div",{id:"calculator",children:[Object(c.jsx)(s,{id:"formula"}),Object(c.jsx)(s,{id:"display"}),Object(c.jsx)(D,{id:"zero",symbol:O.zero}),Object(c.jsx)(D,{id:"one",symbol:O.one}),Object(c.jsx)(D,{id:"two",symbol:O.two}),Object(c.jsx)(D,{id:"three",symbol:O.three}),Object(c.jsx)(D,{id:"four",symbol:O.four}),Object(c.jsx)(D,{id:"five",symbol:O.five}),Object(c.jsx)(D,{id:"six",symbol:O.six}),Object(c.jsx)(D,{id:"seven",symbol:O.seven}),Object(c.jsx)(D,{id:"eight",symbol:O.eight}),Object(c.jsx)(D,{id:"nine",symbol:O.nine}),Object(c.jsx)(D,{id:"clear",symbol:O.clear}),Object(c.jsx)(D,{id:"add",symbol:O.add}),Object(c.jsx)(D,{id:"subtract",symbol:O.subtract}),Object(c.jsx)(D,{id:"multiply",symbol:O.multiply}),Object(c.jsx)(D,{id:"divide",symbol:O.divide}),Object(c.jsx)(D,{id:"decimal",symbol:O.decimal}),Object(c.jsx)(D,{id:"equals",symbol:O.equals}),Object(c.jsx)(D,{id:"backspace",symbol:O.backspace})]})}),$=(n(27),function(){return Object(c.jsx)("footer",{children:Object(c.jsxs)("p",{children:["created by ",Object(c.jsx)("em",{children:"74c5"})]})})}),F=(n(28),function(){return Object(c.jsxs)("div",{id:"react-app",children:[Object(c.jsx)("main",{children:Object(c.jsx)(I,{})}),Object(c.jsx)($,{})]})});n(29);u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.a,{store:x,children:Object(c.jsx)(F,{})})}),document.getElementById("react-container")),B()}},[[30,1,2]]]);
//# sourceMappingURL=main.f3c59cca.chunk.js.map