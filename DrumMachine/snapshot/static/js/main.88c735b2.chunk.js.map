{"version":3,"sources":["js/components/useScreenSize.js","js/components/Display.js","js/store/ui.js","js/store/data.js","js/store/store.js","js/logic/controller.js","js/components/Power.js","js/components/VolumeControl.js","js/components/BankSelect.js","js/components/Drumpad.js","js/components/DrumMachine.js","js/components/Footer.js","js/components/App.js","index.js"],"names":["useScreenSize","useState","width","window","innerWidth","height","innnerHeight","screen","setScreen","handleWindowSizeChange","innerHeight","useEffect","addEventListener","removeEventListener","Display","id","text","useSelector","state","ui","display","mode","enabled","className","uiSlice","createSlice","name","initialState","bank","bankID","banklist","reducers","setEnable","reducer","action","payload","prepare","setBank","setBankList","nameArray","actions","keylist","volume","registerKey","key","setVolume","store","configureStore","uiReducer","data","dataReducer","MAPKEY","BANKS","Q","src","process","desc","W","E","A","S","D","Z","X","C","msg","timeout","dispatch","uiActions","setTimeout","playClip","getState","audio","document","querySelector","dataset","description","currentTime","play","selectBank","enable","dataActions","keyDown","event","code","initialise","map","Power","power","setPower","onClick","preventDefault","icon","faPowerOff","VolumeControl","vol","setVol","type","disabled","value","min","max","onChange","newVol","Number","target","BankSelect","banks","newIndex","bankRadios","index","checked","Drumpad","clipID","undefined","data-description","DrumMachine","viewClass","Footer","href","rel","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88c735b2.chunk.js","sourcesContent":["/** \n * Custom React Hook which returns screen size for dynamic responsice layout \n * link: https://stackoverflow.com/questions/39435395/reactjs-how-to-determine-if-the-application-is-being-viewed-on-mobile-or-deskto\n * */\nimport {useEffect, useState} from \"react\";\n\nconst useScreenSize = () => {\n    const [screen, setScreen] = useState({width: window.innerWidth, height: window.innnerHeight});\n    \n    const handleWindowSizeChange = () => {\n        setScreen({width: window.innerWidth, height: window.innerHeight});\n    }\n\n    useEffect(() => {\n        window.addEventListener('resize', handleWindowSizeChange);\n        return () => {\n            window.removeEventListener('resize', handleWindowSizeChange);\n        }\n    }, []);\n\n    return screen;\n}\n\nexport default useScreenSize;","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './Display.scss';\n\n\nconst Display = ({id}) => {\n    const text = useSelector(state => state.ui.display);\n    const enabled = useSelector(state => state.ui.enabled);\n\n    const mode = (enabled)? 'enabled' : 'disabled';\n\n    return (\n        <div id={id} className={`display ${mode}`}>{text}</div>\n    );\n};\n\nexport default Display;","import { createSlice } from '@reduxjs/toolkit';\n\n// default state\nconst initialState = {\n    enabled  : true, // or 'disabled'\n    display  : \"\",   // text to display on ui element\n    bank     : {},   // mapping of letter (e.g. 'Q') to audio src and description\n    bankID   : -1,\n    banklist : [],   // list of bank names - the index is used as a key\n};\n\nconst uiSlice = createSlice({\n    name: 'ui',\n    initialState,\n    reducers: {\n        setEnable : {\n            reducer: (state, action) => { state.enabled = action.payload; },\n            prepare: (enabled) => ({ payload: enabled }),\n        },\n        display: {\n            reducer: (state, action) => { state.display = action.payload; },\n            prepare: (text) => ({payload: text}),\n        },\n        setBank : {\n            reducer: (state, action) => {\n                state.bankID = action.payload.bankID;\n                state.bank   = action.payload.bank;\n            },\n            prepare: (bankID, bank) => ({payload : { bankID, bank}})\n        },\n        setBankList : {\n            reducer: (state, action) => { state.banklist = action.payload },\n            prepare: (nameArray) => ({ payload: nameArray }),\n        }\n    }\n});\n\nexport const actions = uiSlice.actions;\nexport default uiSlice.reducer;","import { createSlice } from '@reduxjs/toolkit';\n\n// default state\nconst initialState = {\n    enabled   : true,   // true || false.\n    keylist   : {},     // allows registration of key pad letters\n    banklist  : [],\n    volume    : 0,      //0 to 1\n};\n\n\nconst uiSlice = createSlice({\n    name: 'data',\n    initialState,\n    reducers: {\n        setEnable : {\n            reducer: (state, action) => { state.enabled = action.payload; },\n            prepare: (enabled) => ({ payload: enabled }),\n        },\n        registerKey : {\n            reducer: (state, action) => { state.keylist[action.payload] = 'enabled'; },\n            prepare: (key) => ({ payload: key }),\n        },\n        setBankList : {\n            reducer: (state, action) => { state.banklist = action.payload; },\n            prepare: (banklist) => ({ payload: banklist }),\n        },\n        setVolume : {\n            reducer: (state, action) => { state.volume = action.payload; },\n            prepare: (volume) => ({ payload: volume }),\n        },\n    }\n});\n\nexport const actions = uiSlice.actions;\nexport default uiSlice.reducer;\n\n","import { configureStore } from '@reduxjs/toolkit'\n// import { createStore, applyMiddleware } from 'redux'\n// import thunkMiddleware from 'redux-thunk'\n// import { composeWithDevTools } from 'redux-devtools-extension'\n// import rootReducer from './reducer'\nimport uiReducer from './ui';\nimport dataReducer from './data';\n\n// const composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware))\n// const composedEnhancer = applyMiddleware(thunkMiddleware);\n\n// Devtools, thunk middelware and reducer composer are built into configureStore\nconst store = configureStore(\n    {   reducer : { ui   : uiReducer,\n                    data : dataReducer,\n        }\n    }\n);\n\nexport default store\n","// import {  } from \"redux\";\nimport store from '../store/store';\nimport { actions as uiActions } from '../store/ui';\nimport { actions as dataActions } from '../store/data'\n\n// Application Constants\n// const KEYMAP = { Q:'KeyQ', W:'KeyW', E:'KeyE', A:'KeyA', S:'KeyS', D:'KeyD', Z:'KeyZ', X:'KeyX', C:'KeyC' };\nconst MAPKEY = { 'KeyQ':'Q', 'KeyW':'W', 'KeyE':'E', 'KeyA':'A', 'KeyS':'S', 'KeyD':'D', 'KeyZ':'Z', 'KeyX':'X', 'KeyC':'C' };\n\nconst BANKS = [\n    {   name: 'bell',\n        Q: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-C.mp3`,   desc: 'Cowbell C' },\n        W: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-D.mp3`,   desc: 'Cowbell D' },\n        E: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-E.mp3`,   desc: 'Cowbell E' },\n        A: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-F.mp3`,   desc: 'Cowbell F' },\n        S: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-G.mp3`,   desc: 'Cowbell G' },\n        D: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-A.mp3`,   desc: 'Cowbell A' },\n        Z: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-B.mp3`,   desc: 'Cowbell B' },\n        X: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-C4D.mp3`, desc: 'Cowbell C (lower)' },\n        C: {src: `${process.env.PUBLIC_URL}/media/audio/cowbell-D4A.mp3`, desc: 'Cowbell D (amp & distort)' },\n    },\n    {   name: 'cow',\n        Q: {src: `${process.env.PUBLIC_URL}/media/audio/cow-C.mp3`,  desc: 'Cow C' },\n        W: {src: `${process.env.PUBLIC_URL}/media/audio/cow-D.mp3`,  desc: 'Cow D' },\n        E: {src: `${process.env.PUBLIC_URL}/media/audio/cow-E.mp3`,  desc: 'Cow E' },\n        A: {src: `${process.env.PUBLIC_URL}/media/audio/cow-F.mp3`,  desc: 'Cow F' },\n        S: {src: `${process.env.PUBLIC_URL}/media/audio/cow-G.mp3`,  desc: 'Cow G' },\n        D: {src: `${process.env.PUBLIC_URL}/media/audio/cow-A.mp3`,  desc: 'Cow A' },\n        Z: {src: `${process.env.PUBLIC_URL}/media/audio/cow-B.mp3`,  desc: 'Cow B' },\n        X: {src: `${process.env.PUBLIC_URL}/media/audio/cow-FS.mp3`, desc: 'Cow F#' },\n        C: {src: `${process.env.PUBLIC_URL}/media/audio/cow-GSorig.mp3`,  desc: 'Cow G#' },\n    }\n];\n\n\n// app actions\nexport const display = (msg, timeout=0) => {\n    store.dispatch(uiActions.display(msg));\n    if (timeout > 0) {\n        setTimeout(()=> { store.dispatch(uiActions.display(\"\")) }, timeout);\n    }\n};\n\nexport const playClip = (id) => {\n    const enabled = store.getState().data.enabled;\n    const volume  = store.getState().data.volume;\n    if (enabled) {\n        const audio = document.querySelector(`#${id}`);\n        if (audio) {\n            const desc = audio.dataset.description;\n            display(desc, 2000);\n            //audio.load();\n            audio.volume = volume;\n            audio.currentTime = 0;\n            audio.play();\n        } else {\n            display('unknown clip', 1500);\n        }\n    }\n}\n\nexport const selectBank = (id) => {\n    const enabled  = store.getState().data.enabled;\n    if (enabled) {\n        const banklist = store.getState().data.banklist;\n        store.dispatch(uiActions.setBank(id, banklist[id]));\n    }\n}\n\nexport const setBankList = (banklist) => {\n    const enabled = store.getState().data.enabled;\n    if (enabled) {\n        store.dispatch(uiActions.setBankList(banklist.map(bank => bank.name)));\n        store.dispatch(dataActions.setBankList(banklist));\n    }\n}\n\nexport const setEnable = (enable) => {\n    if (enable) { // power up cycle\n        store.dispatch(dataActions.setEnable(true));\n        store.dispatch(uiActions.setEnable(true));\n        setTimeout(()=> {\n            // If we are still powered up - display a welcome message\n            if (store.getState().data.enabled === true) {\n                display(\"Hello, Dave...\", 1500);\n            }\n        }, 500);\n    \n    } else { // power down cycle\n        store.dispatch(dataActions.setEnable(false));\n        display(\"Don't do it Dave...\", 1500);\n        setTimeout(()=> {\n            // check we are still powered down, then disable ui\n            if (store.getState().data.enabled === false) {\n                store.dispatch(uiActions.setEnable(false))\n            }\n        }, 2000);\n    }\n};\n\n// re-export simple actions as controller functions\nexport const registerKey = (key) => {\n    store.dispatch(dataActions.registerKey(key));\n};\n\nexport const setVolume = (volume) => {\n    store.dispatch(dataActions.setVolume(volume))\n};\n\n// keycode event handler\nconst keyDown = (event) => {\n    const keylist = store.getState().data.keylist;\n    const id = MAPKEY[event.code];\n    if (keylist[id] === 'enabled') {\n        playClip(id);\n    }\n}\n\n// Startup sequence for the programme\nexport const initialise = () => {\n    display(\"\");\n    setEnable(true);\n    setBankList(BANKS);\n    selectBank(0);\n    setVolume(0.5);\n    document.addEventListener('keydown', keyDown);\n};\n\nexport default initialise;","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPowerOff } from '@fortawesome/free-solid-svg-icons'\nimport { setEnable } from '../logic/controller';\nimport './Power.scss';\n\nconst Power = ({id}) => {\n    const enabled = useSelector(state => state.ui.enabled);\n    const [power, setPower] = useState((enabled) ? 'on' : 'off');\n\n    const onClick = (event) => {\n        event.preventDefault();\n        if (power === 'on') {\n            setEnable(false);\n            setPower('off');\n        } else {\n            setEnable(true);\n            setPower('on');\n        }\n    }\n\n    const mode  = (enabled) ? 'enabled' : 'disabled';\n\n    return (\n        <button id={id} onClick={onClick} className={`power-switch ${power} ${mode}`}>\n            <FontAwesomeIcon icon={faPowerOff}/>\n        </button>\n    );\n};\n\nexport default Power;","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { setVolume } from '../logic/controller';\n\nimport './VolumeControl.scss';\n\nconst VolumeControl = ({id}) => {\n    const [vol, setVol] = useState(5);\n    const enabled = useSelector(store => store.ui.enabled);\n\n    const onChange = (event) => {\n        event.preventDefault();\n        const newVol = Number(event.target.value);\n        setVol(newVol);\n        setVolume(newVol/11.0);\n    };\n\n    return (\n        <div id={id} className=\"volume-panel\">\n            <h3 className='volume-reading'>volume: <span>{vol}</span></h3>\n            <input type=\"range\" id=\"volume\" name=\"volume\" className=\"volume-slider\" disabled={!enabled}\n                   value={vol} min={0} max={11} onChange={onChange}/>\n        </div>\n    );\n};\n\nexport default VolumeControl;","import { useSelector } from 'react-redux';\nimport { selectBank } from '../logic/controller';\nimport './BankSelect.scss';\n\nconst BankSelect = ({id}) => {\n    const enabled = useSelector(store => store.ui.enabled);\n    const bankID = useSelector(store => store.ui.bankID);\n    const banks = useSelector(store => store.ui.banklist);\n\n    const onChange = (event) => {\n        const newIndex = Number(event.target.value);\n        selectBank(newIndex);\n    }\n\n    const bankRadios = banks.map((name, index) => \n        <label className={`radio-option`} key={index}>\n            <input className={`radio-input`} type=\"radio\" id={`bank-${index}`} value={index}\n                   onChange={onChange} checked={bankID===index} disabled={!enabled} />\n            {` ${name}`}\n        </label>\n    );\n\n    return (\n        <div id={id} className=\"bank-select\">\n            {bankRadios}\n        </div>\n    );\n};\n\nexport default BankSelect;","import { useSelector } from 'react-redux';\nimport { registerKey, playClip } from '../logic/controller';\nimport './Drumpad.scss';\n\n\nconst Drumpad = ({id, clipID}) => {\n    const bank = useSelector(store => store.ui.bank);\n    const enabled = useSelector(store => store.ui.enabled);\n    \n    const onClick = (event) => {\n        event.preventDefault();\n        playClip(clipID)\n    }\n\n    let src = '';\n    let description = 'missing sound file';\n    if (bank[clipID] !== undefined) {\n        src = bank[clipID]['src'];\n        description = bank[clipID]['desc'];\n        registerKey(clipID);\n    }\n\n    return (\n        <button id={id} className={`drum-pad`} onClick={onClick} disabled={!enabled}>\n            {clipID}\n            <audio id={clipID} className='clip' src={src} data-description={description}>Audio Error</audio>\n        </button>\n    );\n};\n\nexport default Drumpad;","import useScreenSize from './useScreenSize';\nimport Display from './Display';\nimport Power from './Power';\nimport VolumeControl from './VolumeControl';\nimport BankSelect from './BankSelect';\nimport Drumpad from './Drumpad';\n\nimport './DrumMachine.scss';\n\nconst DrumMachine = () => {\n    const screen = useScreenSize();\n    const viewClass = (screen.width < 450) ? 'mobileView' : 'fullView';\n\n    return (\n        <div id=\"drum-machine\" className={viewClass}>\n            <h3>I think, we need... more cow bell?</h3>\n            <Display id=\"display\"/>\n            <Drumpad id=\"drumpad-Q\" clipID=\"Q\" />\n            <Drumpad id=\"drumpad-W\" clipID=\"W\" />\n            <Drumpad id=\"drumpad-E\" clipID=\"E\" />\n            <Drumpad id=\"drumpad-A\" clipID=\"A\" />\n            <Drumpad id=\"drumpad-S\" clipID=\"S\" />\n            <Drumpad id=\"drumpad-D\" clipID=\"D\" />\n            <Drumpad id=\"drumpad-Z\" clipID=\"Z\" />\n            <Drumpad id=\"drumpad-X\" clipID=\"X\" />\n            <Drumpad id=\"drumpad-C\" clipID=\"C\" />\n            <Power id=\"power-switch\"/>\n            <VolumeControl id=\"volume-panel\"/>\n            <BankSelect id=\"bank-select\"/>\n        </div>\n    );\n};\n\nexport default DrumMachine;","import './Footer.scss';\n\nconst Footer = () => {\n    return (\n        <footer>\n            <p>\n                Audio clips sourced from <a href=\"https://mixkit.co/free-sound-effects/cow/\" target=\"_blank\" rel=\"noreferrer\">mixkit.co</a> and \n                modified using <a href=\"https://www.audacityteam.org/\" target=\"_blank\" rel=\"noreferrer\"> audacity</a>.\n            </p>\n        </footer>\n    );\n};\n\nexport default Footer;","import React from 'react';\nimport DrumMachine from './DrumMachine';\nimport Footer from './Footer'\nimport './App.scss';\n\n\nconst App = () => {\n    return (\n        <div id=\"react-app\">\n            <main>\n                <DrumMachine />\n            </main>\n            <Footer />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider} from 'react-redux';\nimport App from './js/components/App';\nimport store from './js/store/store';\nimport initialise from './js/logic/controller';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('react-container')\n);\n\ninitialise();"],"sourceRoot":""}